<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Immigration Services</title>

    <link
      rel="icon"
      href="https://www.newhaven.edu/_resources/images/favicons/favicon-64.png"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/build.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/template.css') }}"
    />
  </head>

  <body>
    <!-- HEADER - UNIVERSITY AND UIS LOGO -->
    <section
      class="flex justify-center text-xl"
      aria-label="University Of New Haven, University Immigration Services"
    >
      <div id="page">
        <div class="c_page c_landing c_interior-default cr">
          <a id="c_top" href="#content" class="cr">Skip to main content</a>
          <header id="c_site-header" role="banner" class="cr">
            <div class="c_container cr">
              <div id="c_wordmark" class="cr">
                <a href="" class="cr pointer-events-none">
                  <span class="c_sr-only cr">University of New Haven</span>
                </a>
              </div>
              <div id="c_navband" class="cr">
                <nav id="c_utility-nav" class="cr" />
              </div>
            </div>
          </header>
          <section id="c_section-menu" class="c_snippet cr">
            <div class="c_container cr">
              <div id="c_section-topband" class="cr">
                <h2 class="c_section-menu-title cr">
                  University Immigration Services
                </h2>
              </div>
            </div>
          </section>
        </div>
      </div>
    </section>
    <!-- NAV - NAVIGATION STRIP -->
    <nav
      id="nav"
      class="tab invisible mb-4 flex justify-between bg-slate-200 p-2 font-semibold"
    >
      <div id="menuIconDiv" class="justify-left left-4 flex w-64 items-center">
        <p id="menu" class="">Menu</p>
        <button
          id="closeNav"
          class="m-2 rounded bg-white px-3 py-2"
          onclick="toggleNav()"
          aria-label="Menu toggle"
        >
          <svg viewBox="0 0 100 80" width="20" height="20" class="">
            <rect width="100" height="20" rx="8"></rect>
            <rect y="30" width="100" height="20" rx="8"></rect>
            <rect y="60" width="100" height="20" rx="8"></rect>
          </svg>
        </button>
      </div>
      <div class="flex gap-3">
        <button
          id="loginT"
          class="tabL w-64 rounded-md bg-unhBlue p-3 text-white shadow-lg hover:text-yellow-300 hover:transition hover:duration-500 disabled:opacity-70 disabled:hover:bg-white disabled:hover:text-black"
          onclick="openTab(event,'login')"
          aria-label="Login Tab"
        >
          Login
        </button>
        <button
          id="i20T"
          class="tabL w-64 rounded bg-white p-3 hover:bg-blue-100 hover:transition hover:duration-500 disabled:opacity-70 disabled:hover:bg-white disabled:hover:text-black"
          onclick="openTab(event,'i20','i20dsoName')"
          aria-label="I20 Tab"
          hidden
        >
          I20
        </button>
        <button
          id="adminT"
          class="tabL w-64 rounded bg-white p-3 hover:bg-blue-100 hover:transition hover:duration-500 disabled:opacity-70 disabled:hover:bg-white disabled:hover:text-black"
          onclick="openTab(event,'admin'), getAllUsers()"
          aria-label="Admin Tab"
          hidden
        >
          Admin
        </button>
        <button
          id="dsoT"
          class="tabL w-64 rounded bg-white p-3 hover:bg-blue-100 hover:transition hover:duration-500 disabled:opacity-70 disabled:hover:bg-white disabled:hover:text-black"
          onclick="openTab(event,'dso')"
          aria-label="DSO Tab"
          hidden
        >
          DSO Signature
        </button>
      </div>
      <div class="">
        <button
          id="profileT"
          class="w-64 rounded bg-white p-3 hover:bg-blue-100 hover:transition hover:duration-500 disabled:opacity-70 disabled:hover:bg-white disabled:hover:text-black"
          onclick="profileOptions('pOptionsDiv')"
          aria-label="Profile Options Button"
          hidden
        >
          Profile
        </button>
        <div
          id="pOptionsDiv"
          class="absolute right-0 hidden flex-col gap-2 bg-slate-200 p-2"
        >
          <button
            id="changePwd"
            class="w-64 rounded bg-white p-3 hover:bg-blue-100 hover:transition hover:duration-500 disabled:opacity-70 disabled:hover:bg-white disabled:hover:text-black"
            aria-label="Change Password Button"
            onclick="changePwd()"
          >
            Change Password
          </button>
          <button
            id="logout"
            class="w-64 rounded bg-white p-3 hover:bg-blue-100 hover:transition hover:duration-500 disabled:opacity-70 disabled:hover:bg-white disabled:hover:text-black"
            aria-label="Logout Button"
            onclick="logout()"
          >
            Logout
          </button>
        </div>
      </div>
    </nav>
    <!-- SECTION - MODAL -->
    <section
      id="modal"
      class="fixed inset-0 z-10 hidden items-center justify-center overflow-y-auto"
    >
      <div
        class="absolute inset-0 mx-auto bg-black/50 backdrop-blur-sm"
        onclick="closeModal()"
      ></div>
      <div id="bData">
        <!-- JS -->
      </div>
    </section>
    <!-- PROGRESS BAR -->
    <section
      id="pgBar"
      class="absolute -mt-4 hidden w-full grid-cols-6 bg-gray-200 py-2 text-center"
    >
      <p class="rounded-r-full bg-unhBlue py-2 text-white shadow-lg">
        Files Uploaded
      </p>
      <p class="invisible bg-unhBlue py-2 text-white shadow-lg">
        Processed ISSM File
      </p>
      <p class="invisible bg-unhBlue py-2 text-white shadow-lg">
        Processed Slate File
      </p>
      <p class="invisible bg-unhBlue py-2 text-white shadow-lg">
        Splitting i20s
      </p>
      <p class="invisible bg-unhBlue py-2 text-white shadow-lg">Signing i20s</p>
      <p class="invisible rounded-r-full bg-unhBlue py-2 text-white shadow-lg">
        Download Ready!
      </p>
    </section>
    <!-- MAIN CONTENT -->
    <main class="pb-20">
      <!-- CONTENT - LOGIN -->
      <section id="login" class="tabC">
        <h2
          class="col-span-2 mt-24 py-4 text-center text-5xl font-semibold text-unhBlue"
        >
          Login
        </h2>
        <form
          id="loginForm"
          onsubmit="login(event)"
          class="my-8 flex flex-col items-center gap-4 py-4"
        >
          <div class="">
            <label for="usr" class="">Username</label> <br />
            <input
              id="usr"
              type="text"
              name="usr"
              class="focus:unhBlue rounded border border-black p-1 focus:outline-none focus:ring"
              required
              autofocus
            />
          </div>
          <div class="">
            <label for="pwd">Password</label> <br />
            <input
              id="pwd"
              type="password"
              name="pwd"
              class="focus:unhBlue rounded border border-black p-1 focus:outline-none focus:ring"
              required
            />
          </div>
          <button
            type="submit"
            class="m-1 rounded bg-unhBlue px-4 py-2 text-center font-bold text-white hover:text-yellow-300 hover:transition hover:duration-500"
          >
            Login
          </button>
          <p
            class="cursor-pointer pt-2 text-unhBlue underline"
            onclick="forgot()"
          >
            Forgot Password?
          </p>
        </form>
      </section>
      <!-- CONTENT - I20 -->
      <section id="i20" class="tabC items-center py-4" hidden>
        <h2
          class="col-span-2 py-9 text-center text-5xl font-semibold text-unhBlue"
        >
          Import I20
        </h2>
        <form
          id="i20Form"
          class="mx-auto grid w-2/3 grid-cols-3 gap-4 px-28 py-8 lg:w-1/2"
          onsubmit="i20Form(event,'i20Form', 'i20process','i20bt', 'i20dsoName','i20prog')"
        >
          <!-- ON SUBMIT - EVENT, FORMID, API URL, BUTTON ID, DSO ID, PROGRAM ID -->
          <label for="i20Type">I20:</label>
          <select
            id="i20Type"
            name="i20Type"
            class="col-span-2 rounded border border-slate-900"
          >
            <option value="initI20">Initial I20</option>
            <option value="contdI20">Continued I20</option>
          </select>
          <label for="i20dsoName">DSO:</label>
          <select
            id="i20dsoName"
            name="dsoName"
            class="col-span-2 rounded border border-slate-900"
          >
            <option value="">Select DSO</option>
          </select>
          <label for="i20File" class="">I20 File:</label>
          <input
            type="file"
            name="i20File"
            id="i20File"
            accept=".pdf"
            class="col-span-2"
            onchange="valFile(this,'pdf')"
            required
          />
          <label for="i20issmFile">ISSM File:</label>
          <input
            type="file"
            name="issmFile"
            id="i20issmFile"
            accept=".xlsx"
            class="col-span-2"
            onchange="valFile(this,'xlsx')"
            required
          />
          <label for="i20slateFile">Slate File:</label>
          <input
            type="file"
            name="slateFile"
            id="i20slateFile"
            accept=".xlsx"
            class="col-span-2"
            onchange="valFile(this,'xlsx')"
            required
          />
          <label for="i20toSlate"> Transfer File to Slate</label>
          <select
            name="toSlate"
            id="i20toSlate"
            class="col-span-2 rounded border border-black"
            onchange="check()"
          >
            <option value="n">No</option>
            <option value="y">Yes</option>
          </select>
          <div id="i20progDiv" class="col-span-3"></div>
          <div class="col-span-3 flex justify-center">
            <button
              type="submit"
              id="i20bt"
              class="my-4 rounded bg-unhBlue px-4 py-2 text-center font-bold text-white hover:text-yellow-300 hover:transition hover:duration-500 disabled:opacity-70 disabled:hover:text-white"
            >
              Process
            </button>
          </div>
        </form>
      </section>
      <!-- CONTENT - ADMIN -->
      <section id="admin" class="tabC" hidden>
        <div class="flex flex-col items-center justify-center gap-2 py-12">
          <div class="w-1/3">
            <div class="font-bold">
              <button
                class="absolute rounded-md bg-unhBlue px-4 py-2 text-white shadow-lg hover:text-yellow-300 hover:transition hover:duration-500 disabled:opacity-70 disabled:hover:bg-white disabled:hover:text-black"
                onclick="modalAddUser()"
              >
                Add User
              </button>
              <p class="py-8 text-center text-5xl text-unhBlue">User List</p>
            </div>
            <div
              class="text-md flex items-center justify-around gap-4 rounded-t-lg bg-slate-200 py-2 font-bold shadow"
            >
              <h5>Name</h5>
              <p></p>
              <h5>Actions</h5>
            </div>
            <div
              id="ulist"
              class="rounded-b-lg border-x border-b border-slate-200 px-4 py-2"
            >
              <!-- JS -->
            </div>
          </div>
        </div>
      </section>
      <!-- CONTENT - DSO -->
      <section id="dso" class="tabC items-center py-4" hidden>
        <h2
          class="col-span-2 py-9 text-center text-5xl font-semibold text-unhBlue"
        >
          Import I20
        </h2>
        <form
          id="dsoForm"
          class="mx-auto grid w-2/3 grid-cols-3 gap-4 px-28 py-8 lg:w-1/2"
          onsubmit="dsoForm(event, 'dsoForm', '/upload3', 'dsoBt', 'dsoName')"
        >
          <!-- ON SUBMIT - EVENT, FORM ID, API URL, BUTTON ID, DSODROP ID -->
          <p>Actions:</p>
          <div class="col-span-2 flex gap-5">
            <div class="">
              <input
                type="checkbox"
                name="sign"
                id="dsoSign"
                class="cursor-pointer accent-unhBlue"
                onchange="signCheck()"
              />
              <label for="dsoSign"> Signature </label>
            </div>
            <div class="">
              <input
                type="checkbox"
                name="split"
                id="split"
                class="cursor-pointer accent-unhBlue"
              />
              <label for="split"> Split </label>
            </div>
          </div>
          <div id="dsoSignDiv" class="col-span-3 grid grid-cols-3 gap-4"></div>
          <label for="pdf_file3" class="">I20 File:</label>
          <input
            type="file"
            name="i20File"
            id="pdf_file3"
            accept=".pdf"
            class="col-span-2"
            onchange="valFile(this,'pdf')"
            required
          />
          <div class="col-span-3 flex justify-center">
            <button
              type="submit"
              id="dsoBt"
              class="my-4 rounded bg-unhBlue px-4 py-2 text-center font-bold text-white hover:text-yellow-300 hover:transition hover:duration-500 disabled:opacity-70 disabled:hover:text-white"
            >
              Process
            </button>
          </div>
        </form>
      </section>
      <!-- CONTENT - ADD SIGNATURE -->
      <section id="newSign" class="items-center py-4" hidden>
        <h2
          class="col-span-2 py-9 text-center text-5xl font-semibold text-unhBlue"
        >
          Add New Signature
        </h2>

        <form
          id="signForm"
          onsubmit="signForm(event, 'signForm', 'signBt')"
          class="flex flex-col items-center gap-4 py-8"
        >
          <div class="">
            <label for="susr">Username</label> <br />
            <input
              id="susr"
              type="text"
              name="usr"
              class="focus:unhBlue rounded border border-black p-1 focus:outline-none focus:ring disabled:opacity-70"
              disabled
            />
          </div>
          <div class="">
            <label for="x-co">X-Coordinate</label><br />
            <input
              id="x-co"
              type="number"
              name="x-co"
              class="focus:unhBlue rounded border border-black p-1 focus:outline-none focus:ring"
              value="80"
            />
          </div>
          <div class="">
            <label for="y-co">Y-Coordinate</label><br />
            <input
              id="y-co"
              type="number"
              name="y-co"
              class="focus:unhBlue rounded border border-black p-1 focus:outline-none focus:ring"
              value="180"
            />
          </div>
          <div class="">
            <label for="length">Length</label><br />
            <input
              id="length"
              type="number"
              name="length"
              class="focus:unhBlue rounded border border-black p-1 focus:outline-none focus:ring"
              value="160"
            />
          </div>
          <div class="">
            <label for="width">Width</label><br />
            <input
              id="width"
              type="number"
              name="width"
              class="focus:unhBlue rounded border border-black p-1 focus:outline-none focus:ring"
              value="60"
            />
          </div>
          <div class="">
            <label for="signFile">Signature</label> <br />
            <input
              id="signFile"
              type="file"
              name="signFile"
              id="signFile"
              accept=".png"
              onchange="valFile(this,'png')"
              required
              style="width: 226px"
            />
          </div>
          <div class="">
            <label for="aType">Action</label>
            <select
              id="aType"
              name="aType"
              id="aType"
              class="rounded border border-slate-900"
            >
              <option value="">Select Action</option>
              <option value="test">Test</option>
              <option value="upload">Upload</option>
            </select>
          </div>
          <div class="flex-none">
            <button
              type="submit"
              id="signBt"
              class="m-1 mt-4 rounded bg-unhBlue px-4 py-2 text-center font-bold text-white hover:text-yellow-300 hover:transition hover:duration-500 disabled:opacity-70 disabled:hover:text-white"
            >
              Add
            </button>
          </div>
        </form>
      </section>
      <!-- PROMPT - MESSAGE -->
      <section class="z-50 flex justify-center">
        <div
          id="msg"
          class="absolute hidden rounded bg-green-500/70 p-4 text-center text-black/80"
        >
          <!-- JS -->
        </div>
      </section>
    </main>

    <!-- FOOTER -->
    <footer
      class="flex items-center justify-around bg-unhBlue"
      aria-hidden="true"
      aria-label="Footer"
    >
      <img
        src="https://www.newhaven.edu/_resources/images/_email/logos/unewhaven_stacked_logo_white.png"
        alt=""
        class="w-48"
      />
      <p class="uppercase text-white">
        300 Boston Post Rd, <br />West Haven, CT 06516
      </p>
    </footer>
    <!-- SCRIPT -->
    <script src="{{ url_for('static', filename='js/issmScript.js') }}"></script>
  </body>
</html>
